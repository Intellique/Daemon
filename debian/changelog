storiqone (1.3.12.1-1+wheezy) polisher; urgency=low

  * New release
  * Bug fix:
    - #281: Json: Use UTF-16 surrogate pair in order to use unicode
            character between 0x10000 and 0x1FFFF.

 -- Guillaume Clercin <gclercin@intellique.com>  Wed, 31 May 2017 10:30:03 +0200

storiqone (1.3.12-1+wheezy) polisher; urgency=low

  * New release
  * Bug fix:
    - #291: Slow query: replace "NOT IN" by "NOT EXISTS" in order to improve query speed.

 -- Guillaume Clercin <gclercin@intellique.com>  Fri, 21 Apr 2017 11:38:36 +0200

storiqone (1.3.11-1+wheezy) polisher; urgency=low

  * New release
  * Bug fix:
    - #281: Json: Use UTF-16 surrogate pair in order to use unicode
            character between 0x10000 and 0x1FFFF.
    - #282: Archiving into pool mirror. Introduced by #201.
    - #283: Avoid having duplication in table archivetoarchivemirror.
    - #285: 'so_string_unescape' unescape wrong charaters.

 -- Guillaume Clercin <gclercin@intellique.com>  Fri, 10 Mar 2017 10:22:41 +0100

storiqone (1.3.10-1+wheezy) polisher; urgency=low

  * New release
  * Bug fix:
    - #278: Incorrect use of disable slots

 -- Guillaume Clercin <gclercin@intellique.com>  Fri, 03 Mar 2017 13:00:45 +0100

storiqone (1.3.9-2+wheezy) polisher; urgency=low

  * New release
  * New
    - #277: Json parser: force a wait to avoid parse failure

 -- Guillaume Clercin <gclercin@intellique.com>  Mon, 27 Feb 2017 17:27:53 +0100

storiqone (1.3.9-1+wheezy) polisher; urgency=low

  * New release
  * New
    - #201: Add archive status: incomplete, data-complete, complete
  * Change
    - #248: Set running task to error status at daemon startup
  * Bug fix:
    - #234: daemon block if library is offline
    - #272: create index on materialize view

 -- Guillaume Clercin <gclercin@intellique.com>  Mon, 06 Feb 2017 17:00:01 +0100

storiqone (1.3.8-2+wheezy) polisher; urgency=low

  * New release
  * Bug fix:
    - #245: optimisation gcc

 -- Guillaume Clercin <gclercin@intellique.com>  Tue, 20 Dec 2016 12:46:41 +0100

storiqone (1.3.8-1+wheezy) polisher; urgency=low

  * New release
  * Bug fix:
    - #226: Use “CONCURRENTLY” to allow refreshing view without locking out concurrent selects.

 -- Guillaume Clercin <gclercin@intellique.com>  Wed, 09 Nov 2016 17:34:53 +0100

storiqone (1.3.7-1+wheezy) polisher; urgency=low

  * New release
  * Bug fix:
    - #215: Checking archive after archiving. default value is bound to pool's
            value.
    - #218: Restart drive after crash.
    - #222: Update MATERIALIZED VIEW after archiving.
    - #223: Create MATERIALIZED VIEW

 -- Guillaume Clercin <gclercin@intellique.com>  Mon, 17 Oct 2016 21:11:47 +0200

storiqone (1.3.6-1+wheezy) polisher; urgency=low

  * New release
  * Bug fix:
    - #203: Allow formatting of full foreign medias
    - #205: Can specify temporary and core-dump directory from configuration
            file

 -- Guillaume Clercin <gclercin@intellique.com>  Mon, 19 Sep 2016 16:31:37 +0200

storiqone (1.3.5-1+wheezy) polisher; urgency=low

  * New release
  * Changes
    - #192: Limit number of running tasks to available drives
    - #194: Change display order of xxhash in order to be compatible with
            xxhsum
  * Bug fix:
    - #190: Fix space reservation on new media

 -- Guillaume Clercin <gclercin@intellique.com>  Thu, 25 Aug 2016 15:23:19 +0200

storiqone (1.3.4-1+wheezy) polisher; urgency=low

  * New release
  * New
    - #187: Add support to LTO-7
  * Changes
    - #184: Default block size for VTL change to 128 KiB
    - #186: New strategy to format tape, reuse previous value
  * Bug fix:
    - #178: Automatic media formatting
    - #180: Insert WORM media into database
    - #182: Formatting WORM media

 -- Guillaume Clercin <gclercin@intellique.com>  Thu, 18 Aug 2016 13:23:44 +0200

storiqone (1.3.3-1+wheezy) polisher; urgency=low

  * New release
  * Bug fix:
    - Various fixes

 -- Guillaume Clercin <gclercin@intellique.com>  Mon, 01 Aug 2016 12:48:21 +0200

storiqone (1.3.2-1+wheezy) polisher; urgency=low

  * New release
  * Bug fix:
    - #170: Wait after (un)loading a tape

 -- Guillaume Clercin <gclercin@intellique.com>  Wed, 13 Jul 2016 11:17:30 +0200

storiqone (1.3.1-1+wheezy) polisher; urgency=low

  * New release
  * Add:
    - #158 & #161: manage API keys from 'storiqonectl'
  * Bug fix:
    - #160: fix SCSI command 'READ ELEMENT STATUS' with Quantum i48/80 library

 -- Guillaume Clercin <gclercin@intellique.com>  Tue, 05 Jul 2016 18:03:17 +0200

storiqone (1.3-1+wheezy) polisher; urgency=low

  * New release
  * Bug fix:
    - #154: log if restored file is correct
    - #153: Fix closing LTFS archive

 -- Guillaume Clercin <gclercin@intellique.com>  Mon, 27 Jun 2016 13:04:54 +0200

storiqone (1.3rc4-3+wheezy) polisher; urgency=low

  * New release candidate release
  * Change:
    - Fix permission of "/usr/lib/storiqone/1.3/lib"

 -- Guillaume Clercin <gclercin@intellique.com>  Wed, 22 Jun 2016 19:25:39 +0200

storiqone (1.3rc4-2+wheezy) polisher; urgency=low

  * New release candidate release
  * Change:
    - Make lintian happy

 -- Guillaume Clercin <gclercin@intellique.com>  Wed, 22 Jun 2016 19:25:39 +0200

storiqone (1.3rc4-1+wheezy) polisher; urgency=low

  * New release candidate release
  * Bug fix:
    - #150: Erase media remove also partitions
    - #151: Move media from one pool to another one
    - #131, #133: Improve scsi library
    - #152: Fix indirect copy

 -- Guillaume Clercin <gclercin@intellique.com>  Fri, 17 Jun 2016 17:48:39 +0200

storiqone (1.3rc3-1+wheezy) polisher; urgency=low

  * New release candidate release
  * Bug fix:
    - #140: Fix scsi command to get free space of tape

 -- Guillaume Clercin <gclercin@intellique.com>  Wed, 15 Jun 2016 18:15:07 +0200

storiqone (1.3rc2-1+wheezy) polisher; urgency=low

  * New release candidate release
  * Bug fix:
    - #147: Free LTFS index after ejecting tape
    - #148: Do not use LTFS metadata file while parsing archive

 -- Guillaume Clercin <gclercin@intellique.com>  Tue, 14 Jun 2016 15:54:53 +0200

storiqone (1.3rc1-1+wheezy) polisher; urgency=low

  * New release candidate release
  * Database changes:
    - field of table 'archivefiletoarchivevolume' 'ltfspath' have been renamed
      to 'alternatepath'
  * Bug fix:
    - #135: Fix size of LTFS archives
    - #142: Fix updating Mam attribute 'user medium text label' after
            archiving and formatting LTFS tape
    - #132: Fix header checking with label set to ''
    - #131, #133: Manage error while loading media
    - #141: job crash with more than one library
    - #145: fix 'double fix' while ejecting LTFS tape

 -- Guillaume Clercin <gclercin@intellique.com>  Fri, 10 Jun 2016 11:28:59 +0200

storiqone (1.3b3-1+wheezy) polisher; urgency=low

  * New beta release
  * Bug fix:
    - #138: XML encoding: escape characters
    - #135: Fix size of LTFS archives
    - #38:  Fix remaining size of parted tapes
    - #134: Force option of 'st' driver in order to format tape with
            partitions

 -- Guillaume Clercin <gclercin@intellique.com>  Wed, 01 Jun 2016 13:13:26 +0200

storiqone (1.3b1-1+wheezy) polisher; urgency=low

  * New beta release
  * New features:
    - changers and drives can log into jobrecord
    - save core dump on crash
    - improve task progression, can report script progressions
    - new hash algorithm: “xxhash”
    - report daemon's version into databse (table: host)
    - write LTFS support
  * Change
    - checksum helper reduce memory framentation by using mmap instead of
      malloc
    - rewrite JSON parser
    - api key support

 -- Guillaume Clercin <gclercin@intellique.com>  Thu, 19 May 2016 18:01:43 +0200

storiqone (1.2.15-2+wheezy) polisher; urgency=low

  * New bug fix release
  * Add:
    - Miss to add a script to fix trigger log_metadata

 -- Guillaume Clercin <gclercin@intellique.com>  Wed, 27 Apr 2016 11:14:27 +0200

storiqone (1.2.15-1+wheezy) polisher; urgency=low

  * New bug fix release
  * Change: Move from taiga to redmine. #x (#y) => x for redmine ticket and y
    for taiga ticket.
  * Bug fix:
    - #1 (#133): JSON encoding: escape control character
    - #2 (#130): Through checking archive, update archive volume.
    - #123: Escape invalid UTF-8 encoding.

 -- Guillaume Clercin <gclercin@intellique.com>  Tue, 26 Apr 2016 19:08:41 +0200

storiqone (1.2.14.1-1+wheezy) polisher; urgency=low

  * New bug fix release
  * Add:
    - tape_drive is more verbose

 -- Guillaume Clercin <gclercin@intellique.com>  Thu, 31 Mar 2016 12:55:30 +0200

storiqone (1.2.14-1+wheezy) polisher; urgency=low

  * New bug fix release
  * Add:
    - pid in logs files
    - add new messages for check archive task
    - save core dump in '/var/crash/storiqone'
  * Bug fix:
    - #124: automatic formating of foreign tape

 -- Guillaume Clercin <gclercin@intellique.com>  Fri, 25 Mar 2016 16:37:23 +0100

storiqone (1.2.13-1+wheezy) polisher; urgency=low

  * New bug fix release
  * Bug fix:
    - #99: Implicite close in free functions
    - #110: Bug fix when archiving in pool mirror
    - #111: Improve archive checking with archive which has no checksum computed
    - #112: Improve checking of media header
    - #113: Infinit loop in libstoriqone-changer
    - #101: Blank media are no longer recognized as foreign media
    - #117: Remove unix socket before use
    - #116: Fix media with negative number of free block
    - #119: Wrong type in database for table MetadataLog

 -- Guillaume Clercin <gclercin@intellique.com>  Tue, 15 Mar 2016 15:36:16 +0100

storiqone (1.2.12.2-1+wheezy) polisher; urgency=low

  * New bug fix release
  * Bug fix:
    - default configuration
    - #94: checking foreign ST1 media failed because media has no pool
    - #96: update drive status while reading LTFS tape
    - #75: import metadata when importing media
    - #97: fix remaing size of partitioned tape (LTFS)

 -- Guillaume Clercin <gclercin@intellique.com>  Thu, 25 Feb 2016 12:35:27 +0100

storiqone (1.2.12.1-1+wheezy) polisher; urgency=low

  * New bug fix release
  * Bug fix:
    - #95: Import media: programming error

 -- Guillaume Clercin <gclercin@intellique.com>  Tue, 23 Feb 2016 18:19:45 +0100

storiqone (1.2.12-3+wheezy) polisher; urgency=low

  * New bug fix release
  * Change:
    - Disable scsi_setup

 -- Guillaume Clercin <gclercin@intellique.com>  Mon, 22 Feb 2016 19:07:14 +0100

storiqone (1.2.12-2+wheezy) polisher; urgency=low

  * New bug fix release
  * Bug fix:
    - typo fix, wrong format, use %d instead of %u

 -- Guillaume Clercin <gclercin@intellique.com>  Mon, 22 Feb 2016 13:43:16 +0100

storiqone (1.2.12-1+wheezy) polisher; urgency=low

  * New bug fix release
  * Add:
    - SCSI command REWIND
    - from LTO-5, we can detect timeout command and check if SCSI command is
      available
  * Bug fix:
    - #93: LOCATE(10) & LOCATE(16)

 -- Guillaume Clercin <gclercin@intellique.com>  Mon, 22 Feb 2016 10:29:30 +0100

storiqone (1.2.11-1+wheezy) polisher; urgency=low

  * New bug fix release
  * Add:
    - #84: jobs of disabled users will not be executed
    - debug symbol package (storiqone-dbg)
  * Bug fix:
    - #82: create check archive task after copy
    - #80: do not start disabled device
    - small memory leaks
    - #74: fix support for standalone drives
    - fix: create databse script
    - #91: correctly close file descriptor
    - #92: fix starting tape drive
    - #83: fix import media (LTFS and other)

 -- Guillaume Clercin <gclercin@intellique.com>  Wed, 17 Feb 2016 16:37:25 +0100

storiqone (1.2.10-1+wheezy) polisher; urgency=low

  * New bug fix release
  * Add:
    - Spanish translation
  * Change:
    - format renamed from 'Storiq One' to 'Storiq One (TAR)'
  * Bug fix:
    - create archive: add metadatas (archive & file) into database
    - standalone drive: update correctly drive information (slot) to database

 -- Guillaume Clercin <gclercin@intellique.com>  Sat, 23 Jan 2016 23:45:19 +0100

storiqone (1.2.9-1) polisher; urgency=low

  * New bug fix release
  * Bug fix:
    - Improve initialize of scsi changer. Can initialize with a tape into a
      tape drive.
    - Improve the speed of generation of json.
    - Improve archiving at the end of media.

 -- Guillaume Clercin <gclercin@intellique.com>  Wed, 16 Dec 2015 18:00:35 +0100

storiqone (1.2.8-2) polisher; urgency=low

  * Bug fix:
    - so_file_gid2name & so_file_uid2name: programming error

 -- Guillaume Clercin <gclercin@intellique.com>  Wed, 09 Dec 2015 12:54:06 +0100

storiqone (1.2.8-1) polisher; urgency=low

  * Bug fix:
    - restore-archive: restore also empty directories
    - restore-archive: special care about path without leading slash '/'

 -- Guillaume Clercin <gclercin@intellique.com>  Tue, 08 Dec 2015 10:24:08 +0100

storiqone (1.2.7-2) polisher; urgency=low

  * Bug fix: when reading tar if the length path in tar header is equal to 100 bytes

 -- Guillaume Clercin <gclercin@intellique.com>  Mon, 07 Dec 2015 14:42:54 +0100

storiqone (1.2.7-1) polisher; urgency=low

  * Memory leaks (daemon)
  * Upgrade database: freeblock & totalblock are now bigint instead of integer
  * Improve scsi changer start up
  * Fix a bug in create archive, there is no post script executed when adding file
    into existing archive
  * Fix a race condition in thread_pool, at the end of process, thread should exit
    more quickly
  * Fix a programming error in tape_drive, we can have LTO6 with 72TB of capacity.

 -- Guillaume Clercin <gclercin@intellique.com>  Sun, 06 Dec 2015 23:45:46 +0100

storiqone (1.2.6-3) polisher; urgency=low

  * Add dbconfig to create database

 -- Guillaume Clercin <gclercin@intellique.com>  Sat, 05 Dec 2015 17:22:26 +0100

storiqone (1.2.6-2) polisher; urgency=low

  * Add configuration file
  * fix default path in configuration files

 -- Guillaume Clercin <gclercin@intellique.com>  Tue, 01 Dec 2015 17:51:42 +0100

storiqone (1.2.6-1) polisher; urgency=low

  * Bug fix release
    - Create archive: bug when archiving into pool which unbreakablelevel is
      defined to 'file' (final fix)
    - Restore archive: job could block if there is more than one volume in same
      media.
    - Update translation

 -- Guillaume Clercin <gclercin@intellique.com>  Sun, 22 Nov 2015 18:35:00 +0100

storiqone (1.2.5-1) polisher; urgency=low

  * Bug fix release
    - Create archive: bug when archiving into pool which unbreakablelevel is
      defined to 'file' (again)

 -- Guillaume Clercin <gclercin@intellique.com>  Tue, 17 Nov 2015 13:56:00 +0100

storiqone (1.2.4-1) polisher; urgency=low

  * Bug fix release
    - detection of standalone drive
    - generation proxies script
    - bug when archiving into pool which unbreakablelevel is defined to 'file'

 -- Guillaume Clercin <gclercin@intellique.com>  Tue, 10 Nov 2015 16:56:26 +0100

storiqone (1.2.3-1) polisher; urgency=low

  * Bug fix release
    - init.d script
    - jobtype and script are correctly synchronized with database
    - restoring multiple file sequentially
    - create archive : can create verify task
    - copy archive
    - various fixes about tar format
    - new media was seen as foreign media

 -- Guillaume Clercin <gclercin@intellique.com>  Mon, 26 Oct 2015 15:44:05 +0100

storiqone (1.2.2-1) polisher; urgency=low

  * Bug fix release
    - tcp socket: use uninitialize variable with accept
  * Restore-archive and check-archive refuse to proceed with a deleted archive

 -- Guillaume Clercin <gclercin@intellique.com>  Tue, 06 Oct 2015 12:01:36 +0200

storiqone (1.2.1-1) polisher; urgency=low

  * Bug fix release
    - wrong block size in media label while formatting media (LTO)

 -- Guillaume Clercin <gclercin@intellique.com>  Fri, 25 Sep 2015 08:04:23 +0200

storiqone (1.2-1) polisher; urgency=low

  * Final release

 -- Guillaume Clercin <gclercin@intellique.com>  Thu, 24 Sep 2015 16:54:57 +0200

storiqone (1.2rc8-1) polisher; urgency=low

  * Generate report for create-archive, copy-archive, erase-media and restore-archive

 -- Guillaume Clercin <gclercin@intellique.com>  Wed, 23 Sep 2015 13:37:25 +0200

storiqone (1.2rc7-1) polisher; urgency=low

  * Bug fix:
    - status of tape drive when reading and writing from/to tape
  * Improve restore archive

 -- Guillaume Clercin <gclercin@intellique.com>  Tue, 22 Sep 2015 14:57:26 +0200

storiqone (1.2rc6-1) polisher; urgency=low

  * Bug fix:
    - create archive progression
    - typos in french messages
  * Improve restore archive

 -- Guillaume Clercin <gclercin@intellique.com>  Tue, 22 Sep 2015 09:46:32 +0200

storiqone (1.2rc5-1) polisher; urgency=low

  * Bug fix: nasty copy & paste

 -- Guillaume Clercin <gclercin@intellique.com>  Mon, 21 Sep 2015 11:45:10 +0200

storiqone (1.2rc4-2) polisher; urgency=low

  * Fix pre/post installation scripts

 -- Guillaume Clercin <gclercin@intellique.com>  Fri, 18 Sep 2015 16:18:18 +0200

storiqone (1.2rc4-1) polisher; urgency=low

  * Fourth release candidate
  * Update install paths

 -- Guillaume Clercin <gclercin@intellique.com>  Fri, 18 Sep 2015 15:49:42 +0200

storiqone (1.2rc3-1) polisher; urgency=low

  * Third release candidate
  * Add init.d & logrotate scripts

 -- Guillaume Clercin <gclercin@intellique.com>  Thu, 17 Sep 2015 17:12:42 +0200

storiqone (1.2rc2-1) polisher; urgency=low

  * Second release candidate
  * Support for fiber channel devices

 -- Guillaume Clercin <gclercin@intellique.com>  Tue, 15 Sep 2015 12:19:43 +0200

storiqone (1.2rc1-1) polisher; urgency=low

  * First release candidate

 -- Guillaume Clercin <gclercin@intellique.com>  Mon, 14 Sep 2015 12:18:24 +0200
